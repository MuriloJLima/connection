{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport loginStyle from \"./loginStyle\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState('none'),\n    _useState2 = _slicedToArray(_useState, 2),\n    display = _useState2[0],\n    setDisplay = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    email = _useState4[0],\n    setEmail = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    senha = _useState6[0],\n    setSenha = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    login = _useState8[0],\n    setLogin = _useState8[1];\n  function sendForm() {\n    return _sendForm.apply(this, arguments);\n  }\n  function _sendForm() {\n    _sendForm = _asyncToGenerator(function* () {\n      var response = yield fetch('http://localhost:3000/usuario/login', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email,\n          senha: senha\n        })\n      });\n      var json = yield response.json();\n      if (json === 'error') {\n        setDisplay('flex');\n        setTimeout(function () {\n          setDisplay('none');\n        }, 5000);\n        yield AsyncStorage.clear();\n      } else {\n        yield AsyncStorage.setItem('usuarioData', JSON.stringify(json));\n        navigation.navigate('Home');\n      }\n    });\n    return _sendForm.apply(this, arguments);\n  }\n  return _jsxs(View, {\n    style: loginStyle.container,\n    children: [_jsx(StatusBar, {\n      backgroundColor: '#fff',\n      barStyle: \"dark-content\"\n    }), _jsxs(SafeAreaView, {\n      style: loginStyle.upContainer,\n      children: [_jsx(Image, {\n        style: loginStyle.image,\n        source: require(\"../../assets/fundo1.png\")\n      }), _jsx(Text, {\n        style: loginStyle.texto1,\n        children: \"E-PLANNER\"\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate('PrincipalHome');\n        },\n        style: loginStyle.closeBtn,\n        children: _jsx(Text, {\n          style: loginStyle.textCloseBtn,\n          children: \"X\"\n        })\n      })]\n    }), _jsxs(View, {\n      style: loginStyle.smartContainer1,\n      children: [_jsx(Text, {\n        style: loginStyle.register,\n        children: \"Entrar\"\n      }), _jsx(View, {\n        children: _jsx(Text, {\n          style: loginStyle.loginMsg(display),\n          children: \"Usu\\xE1rio ou senha inv\\xE1lidos\"\n        })\n      }), _jsxs(View, {\n        style: loginStyle.inputArea1,\n        children: [_jsx(Image, {\n          style: loginStyle.icons,\n          source: require(\"../../assets/iconEmail.png\")\n        }), _jsx(TextInput, {\n          style: loginStyle.inputs,\n          placeholder: \"E-mail\",\n          keyboardType: \"default\",\n          underlineColorAndroid: \"transparent\",\n          onChangeText: function onChangeText(text) {\n            return setEmail(text);\n          }\n        })]\n      }), _jsxs(View, {\n        style: loginStyle.inputArea2,\n        children: [_jsx(Image, {\n          style: loginStyle.icons,\n          source: require(\"../../assets/iconLock.png\")\n        }), _jsx(TextInput, {\n          style: loginStyle.inputs,\n          placeholder: \"Senha\",\n          keyboardType: \"default\",\n          underlineColorAndroid: \"transparent\",\n          onChangeText: function onChangeText(text) {\n            return setSenha(text);\n          }\n        })]\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate('Register');\n        },\n        children: _jsx(Text, {\n          style: loginStyle.touchText,\n          children: \"Eu n\\xE3o tenho uma conta\"\n        })\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return sendForm();\n        },\n        style: loginStyle.btn,\n        children: _jsx(Text, {\n          style: loginStyle.btnText,\n          children: \"Continuar\"\n        })\n      })]\n    }), _jsx(View, {\n      style: loginStyle.fundo,\n      children: _jsx(Image, {\n        style: loginStyle.fundoImg,\n        source: require(\"../../assets/fundo2.png\")\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","useEffect","AsyncStorage","loginStyle","View","Text","TouchableOpacity","SafeAreaView","StatusBar","Image","TextInput","jsx","_jsx","jsxs","_jsxs","Login","_ref","navigation","_useState","_useState2","_slicedToArray","display","setDisplay","_useState3","_useState4","email","setEmail","_useState5","_useState6","senha","setSenha","_useState7","_useState8","login","setLogin","sendForm","_sendForm","apply","arguments","_asyncToGenerator","response","fetch","method","headers","Accept","body","JSON","stringify","json","setTimeout","clear","setItem","navigate","style","container","children","backgroundColor","barStyle","upContainer","image","source","require","texto1","onPress","closeBtn","textCloseBtn","smartContainer1","register","loginMsg","inputArea1","icons","inputs","placeholder","keyboardType","underlineColorAndroid","onChangeText","text","inputArea2","touchText","btn","btnText","fundo","fundoImg"],"sources":["C:/Users/marcus vinicius/Documents/TCC/E-PLANNER-MAIN-main/E-PLANNER-MAIN-main/src/Screens/Entrar/login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\n//importando modulo AsyncStorage para salvar dados do login\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nimport loginStyle from \"./loginStyle\";\n\nimport {\n    View,\n    Text,\n    TouchableOpacity,\n    SafeAreaView,\n    StatusBar,\n    Image,\n    TextInput,\n} from \"react-native\";\n\n\n\nexport default function Login({ navigation }) {\n\n    //estados que armazenam os dados do formuário\n    const [display, setDisplay] = useState('none')\n    const [email, setEmail] = useState(null)\n    const [senha, setSenha] = useState(null)\n    const [login, setLogin] = useState(null)\n\n    //enviar dados do formulario para a api\n    async function sendForm() {\n        let response = await fetch('http://localhost:3000/usuario/login', {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                email: email,\n                senha: senha,\n            }),\n        })\n        //recebendo dados que foram verificados na api\n        let json = await response.json()\n\n        //em caso de login incorreto\n        if (json === 'error') {\n            setDisplay('flex')\n            setTimeout(() => {\n                setDisplay('none')\n            }, 5000)\n            await AsyncStorage.clear()\n        }\n        //login correto \n        else {\n            //armazenando dados do usuario em cache e o redirecionando para home\n            await AsyncStorage.setItem('usuarioData', JSON.stringify(json))\n            navigation.navigate('Home')\n        }\n\n    }\n\n    return (\n\n        <View style={loginStyle.container}>\n            <StatusBar backgroundColor={'#fff'} barStyle=\"dark-content\" />\n\n            <SafeAreaView\n                style={loginStyle.upContainer}\n            >\n\n                <Image\n                    style={loginStyle.image}\n                    source={require('../../assets/fundo1.png')}\n                />\n\n                <Text style={loginStyle.texto1}>E-PLANNER</Text>\n\n                <TouchableOpacity\n                    onPress={() => navigation.navigate('PrincipalHome')}\n                    style={loginStyle.closeBtn}\n                >\n                    <Text style={loginStyle.textCloseBtn}>X</Text>\n                </TouchableOpacity>\n\n            </SafeAreaView>\n\n            <View style={loginStyle.smartContainer1}>\n\n                <Text style={loginStyle.register}>Entrar</Text>\n                {/* <Text>{email} - {senha}</Text> */}\n\n                <View>\n                    <Text style={loginStyle.loginMsg(display)}>\n                        Usuário ou senha inválidos\n                    </Text>\n                </View>\n\n                <View style={loginStyle.inputArea1}>\n                    <Image\n                        style={loginStyle.icons}\n                        source={require('../../assets/iconEmail.png')} />\n\n                    <TextInput\n                        style={loginStyle.inputs}\n                        placeholder=\"E-mail\"\n                        keyboardType=\"default\"\n                        underlineColorAndroid=\"transparent\"\n                        onChangeText={text => setEmail(text)}\n                    />\n                </View>\n\n                <View style={loginStyle.inputArea2}>\n                    <Image\n                        style={loginStyle.icons}\n                        source={require('../../assets/iconLock.png')} />\n\n                    <TextInput\n                        style={loginStyle.inputs}\n                        placeholder=\"Senha\"\n                        keyboardType=\"default\"\n                        underlineColorAndroid=\"transparent\"\n                        onChangeText={text => setSenha(text)}\n                    />\n                </View>\n\n                <TouchableOpacity\n                    onPress={() => navigation.navigate('Register')}\n                >\n                    <Text style={loginStyle.touchText}>Eu não tenho uma conta</Text>\n                </TouchableOpacity>\n\n                <TouchableOpacity\n                    onPress={() => sendForm()}\n                    style={loginStyle.btn}>\n                    <Text style={loginStyle.btnText}>Continuar</Text>\n                </TouchableOpacity>\n\n            </View>\n\n            <View style={loginStyle.fundo}>\n                <Image\n                    style={loginStyle.fundoImg}\n                    source={require('../../assets/fundo2.png')}\n                />\n            </View>\n        </View>\n    )\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAGlD,OAAOC,YAAY,MAAM,2CAA2C;AAEpE,OAAOC,UAAU;AAAqB,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,YAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,SAAA;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AActC,eAAe,SAASC,KAAKA,CAAAC,IAAA,EAAiB;EAAA,IAAdC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAGtC,IAAAC,SAAA,GAA8BlB,QAAQ,CAAC,MAAM,CAAC;IAAAmB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAvCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAC1B,IAAAI,UAAA,GAA0BvB,QAAQ,CAAC,IAAI,CAAC;IAAAwB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,UAAA,GAA0B3B,QAAQ,CAAC,IAAI,CAAC;IAAA4B,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,UAAA,GAA0B/B,QAAQ,CAAC,IAAI,CAAC;IAAAgC,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EAAkB,SAGzBG,QAAQA,CAAA;IAAA,OAAAC,SAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAF,UAAA;IAAAA,SAAA,GAAAG,iBAAA,CAAvB,aAA0B;MACtB,IAAIC,QAAQ,SAASC,KAAK,CAAC,qCAAqC,EAAE;QAC9DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACLC,MAAM,EAAE,kBAAkB;UAC1B,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBtB,KAAK,EAAEA,KAAK;UACZI,KAAK,EAAEA;QACX,CAAC;MACL,CAAC,CAAC;MAEF,IAAImB,IAAI,SAASR,QAAQ,CAACQ,IAAI,EAAE;MAGhC,IAAIA,IAAI,KAAK,OAAO,EAAE;QAClB1B,UAAU,CAAC,MAAM,CAAC;QAClB2B,UAAU,CAAC,YAAM;UACb3B,UAAU,CAAC,MAAM,CAAC;QACtB,CAAC,EAAE,IAAI,CAAC;QACR,MAAMpB,YAAY,CAACgD,KAAK,EAAE;MAC9B,CAAC,MAEI;QAED,MAAMhD,YAAY,CAACiD,OAAO,CAAC,aAAa,EAAEL,IAAI,CAACC,SAAS,CAACC,IAAI,CAAC,CAAC;QAC/D/B,UAAU,CAACmC,QAAQ,CAAC,MAAM,CAAC;MAC/B;IAEJ,CAAC;IAAA,OAAAhB,SAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAED,OAEIxB,KAAA,CAACV,IAAI;IAACiD,KAAK,EAAElD,UAAU,CAACmD,SAAU;IAAAC,QAAA,GAC9B3C,IAAA,CAACJ,SAAS;MAACgD,eAAe,EAAE,MAAO;MAACC,QAAQ,EAAC;IAAc,EAAG,EAE9D3C,KAAA,CAACP,YAAY;MACT8C,KAAK,EAAElD,UAAU,CAACuD,WAAY;MAAAH,QAAA,GAG9B3C,IAAA,CAACH,KAAK;QACF4C,KAAK,EAAElD,UAAU,CAACwD,KAAM;QACxBC,MAAM,EAAEC,OAAO;MAA4B,EAC7C,EAEFjD,IAAA,CAACP,IAAI;QAACgD,KAAK,EAAElD,UAAU,CAAC2D,MAAO;QAAAP,QAAA,EAAC;MAAS,EAAO,EAEhD3C,IAAA,CAACN,gBAAgB;QACbyD,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAM9C,UAAU,CAACmC,QAAQ,CAAC,eAAe,CAAC;QAAA,CAAC;QACpDC,KAAK,EAAElD,UAAU,CAAC6D,QAAS;QAAAT,QAAA,EAE3B3C,IAAA,CAACP,IAAI;UAACgD,KAAK,EAAElD,UAAU,CAAC8D,YAAa;UAAAV,QAAA,EAAC;QAAC;MAAO,EAC/B;IAAA,EAER,EAEfzC,KAAA,CAACV,IAAI;MAACiD,KAAK,EAAElD,UAAU,CAAC+D,eAAgB;MAAAX,QAAA,GAEpC3C,IAAA,CAACP,IAAI;QAACgD,KAAK,EAAElD,UAAU,CAACgE,QAAS;QAAAZ,QAAA,EAAC;MAAM,EAAO,EAG/C3C,IAAA,CAACR,IAAI;QAAAmD,QAAA,EACD3C,IAAA,CAACP,IAAI;UAACgD,KAAK,EAAElD,UAAU,CAACiE,QAAQ,CAAC/C,OAAO,CAAE;UAAAkC,QAAA,EAAC;QAE3C;MAAO,EACJ,EAEPzC,KAAA,CAACV,IAAI;QAACiD,KAAK,EAAElD,UAAU,CAACkE,UAAW;QAAAd,QAAA,GAC/B3C,IAAA,CAACH,KAAK;UACF4C,KAAK,EAAElD,UAAU,CAACmE,KAAM;UACxBV,MAAM,EAAEC,OAAO;QAA+B,EAAG,EAErDjD,IAAA,CAACF,SAAS;UACN2C,KAAK,EAAElD,UAAU,CAACoE,MAAO;UACzBC,WAAW,EAAC,QAAQ;UACpBC,YAAY,EAAC,SAAS;UACtBC,qBAAqB,EAAC,aAAa;UACnCC,YAAY,EAAE,SAAAA,aAAAC,IAAI;YAAA,OAAIlD,QAAQ,CAACkD,IAAI,CAAC;UAAA;QAAC,EACvC;MAAA,EACC,EAEP9D,KAAA,CAACV,IAAI;QAACiD,KAAK,EAAElD,UAAU,CAAC0E,UAAW;QAAAtB,QAAA,GAC/B3C,IAAA,CAACH,KAAK;UACF4C,KAAK,EAAElD,UAAU,CAACmE,KAAM;UACxBV,MAAM,EAAEC,OAAO;QAA8B,EAAG,EAEpDjD,IAAA,CAACF,SAAS;UACN2C,KAAK,EAAElD,UAAU,CAACoE,MAAO;UACzBC,WAAW,EAAC,OAAO;UACnBC,YAAY,EAAC,SAAS;UACtBC,qBAAqB,EAAC,aAAa;UACnCC,YAAY,EAAE,SAAAA,aAAAC,IAAI;YAAA,OAAI9C,QAAQ,CAAC8C,IAAI,CAAC;UAAA;QAAC,EACvC;MAAA,EACC,EAEPhE,IAAA,CAACN,gBAAgB;QACbyD,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAM9C,UAAU,CAACmC,QAAQ,CAAC,UAAU,CAAC;QAAA,CAAC;QAAAG,QAAA,EAE/C3C,IAAA,CAACP,IAAI;UAACgD,KAAK,EAAElD,UAAU,CAAC2E,SAAU;UAAAvB,QAAA,EAAC;QAAsB;MAAO,EACjD,EAEnB3C,IAAA,CAACN,gBAAgB;QACbyD,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAM5B,QAAQ,EAAE;QAAA,CAAC;QAC1BkB,KAAK,EAAElD,UAAU,CAAC4E,GAAI;QAAAxB,QAAA,EACtB3C,IAAA,CAACP,IAAI;UAACgD,KAAK,EAAElD,UAAU,CAAC6E,OAAQ;UAAAzB,QAAA,EAAC;QAAS;MAAO,EAClC;IAAA,EAEhB,EAEP3C,IAAA,CAACR,IAAI;MAACiD,KAAK,EAAElD,UAAU,CAAC8E,KAAM;MAAA1B,QAAA,EAC1B3C,IAAA,CAACH,KAAK;QACF4C,KAAK,EAAElD,UAAU,CAAC+E,QAAS;QAC3BtB,MAAM,EAAEC,OAAO;MAA4B;IAC7C,EACC;EAAA,EACJ;AAEf"},"metadata":{},"sourceType":"module","externalDependencies":[]}